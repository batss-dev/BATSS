<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="BATSS">
<title>Binomial endpoint • BATSS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Binomial endpoint">
<meta property="og:description" content="BATSS">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">BATSS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <h6 class="dropdown-header" data-toc-skip>Main topics</h6>
    <a class="dropdown-item" href="../../articles/web_only/Ingredients.html">BATSS Ingredients</a>
    <a class="dropdown-item" href="../../articles/web_only/Priors.html">Prior distributions</a>
    <a class="dropdown-item" href="../../articles/web_only/Cluster.html">Cluster computation</a>
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="../../articles/web_only/negbin.html">Negative binomial endpoint</a>
    <a class="dropdown-item" href="../../articles/web_only/binomial.html">Binomial endpoint</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../logo.png" class="logo" alt=""><h1>Binomial endpoint</h1>
            
      
      
      <div class="d-none name"><code>binomial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="context">Context<a class="anchor" aria-label="anchor" href="#context"></a>
</h2>
<p>This example is motivated by the Personalised Immunotherapy Platform
(PIP) trial <span class="citation">(Lo et al. 2022)</span>, which is a
phase II randomised controlled trial that is currently under development
that will compare immunotherapy combinations for advanced melanoma
patients.</p>
<p>This study aims to assess the effectiveness of different novel drug
combinations compared to a control arm in treatment-naive patients that
are predicted to be unlikely to respond to standard first line
immunotherapy treatments. The primary outcome is the objective response
rate (ORR, i.e., the probability of observing a one/success) according
to the Response Evaluation Criteria in Solid Tumors (RECIST) (partial or
complete response vs stable disease or progressive disease) at 6 months
post randomisation.</p>
</div>
<div class="section level2">
<h2 id="design">Design<a class="anchor" aria-label="anchor" href="#design"></a>
</h2>
<p>The chosen design has the following characteristics:</p>
<ul>
<li>
<strong>treatment arms</strong>: Our case study has 6 treatment
arms: standard of care (arm “A”), five drug combinations (referred to as
arms “B”, “C”, “D”, “E” and “F”).</li>
<li>
<strong>alternative hypotheses</strong>: This is a superiority trial
where we are interested in demonstrating efficacy compared to the
standard of care arm and intervention arms will not be compared to one
another.</li>
<li>
<strong>interim analyses and maximum sample size</strong>: We will
begin the interim analyses at 60 participants completing follow-up, and
perform interim analyses every 12 participants completing follow-up
thereafter. Our maximum sample size is 216 participants and so a total
of 14 looks are planned.</li>
<li>
<strong>endpoint conditional distribution</strong>: the binary
endpoint is assumed to follow a binomial distribution.</li>
<li>
<strong>group allocation</strong>: the trial will start with equal
randomisation (1:1:1:1:1:1) and RAR will be used from interim analysis 1
onwards. The randomisation probabilities are calculated using a
variation of <span class="citation">Trippa et al. (2012)</span> and
<span class="citation">Cellamare et al. (2017)</span> where the
allocation probabilities at look <span class="math inline">\(j\)</span>
are proportional to:
<ul>
<li>control arm: <span class="math display">\[
\frac{\text{exp}\left(\text{max}(n_{kj}) -
n_{0j}\right)^{\nu}}{K_j}\]</span> where
<ul>
<li>
<span class="math inline">\(n_{kj}\)</span> corresponds to the
sample size of arm <span class="math inline">\(k\)</span> (where <span class="math inline">\(k=0\)</span> denotes the control arm) at stage
<span class="math inline">\(j\)</span> and <span class="math inline">\(\text{max}(n_{kj})\)</span> is evaluated across
intervention arms only (i.e. for <span class="math inline">\(k&gt;0\)</span>),</li>
<li>
<span class="math inline">\(K_j\)</span> is the number of active
arms (excluding control) at look <span class="math inline">\(j\)</span>,</li>
<li>
<span class="math inline">\(\nu=0.1\)</span> is a tuning
parameter.</li>
</ul>
</li>
<li>intervention arms: <span class="math display">\[\frac{\text{Prob}(\beta_k&gt;\delta_{r}|y,X)^h}{\sum_{k=1}^K
\text{Prob}(\beta_k&gt;\delta_{r}|y,X)^h}\]</span> where
<ul>
<li>
<span class="math inline">\(\beta_k\)</span> denotes the <span class="math inline">\(k\)</span>th target parameter (on the logit
scale),</li>
<li>
<span class="math inline">\(\delta_{r} = 0\)</span> denotes the
(RAR-related) clinically meaningful treatment effect value,</li>
<li>and <span class="math inline">\(h = \gamma(\sum_{k=0}^{K} n_{kj} /
N)^{\eta}\)</span> with
<ul>
<li>
<span class="math inline">\(n_{kj}\)</span>, the sample size of arm
<span class="math inline">\(k\)</span> at stage <span class="math inline">\(j\)</span>,</li>
<li>
<span class="math inline">\(N\)</span>, the maximum sample
size,</li>
<li>
<span class="math inline">\(\gamma=3\)</span> and <span class="math inline">\(\eta=1.4\)</span>, two tuning parameters. Refer to
<span class="citation">Gotmaker et al. (2019)</span> for details</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>efficacy stopping rule</strong>: Stopping arms for efficacy
is not permitted at the interim analyses as the main objective of the
adaptations is to drop poorly performing arms.</li>
<li>
<strong>end of trial efficacy rule</strong>: An intervention may be
declared effective at the end of the trial if the posterior probability
of efficacy is above a certain (high) threshold: <span class="math display">\[\text{Prob}(\beta_k &gt; \delta_{\epsilon}|y, X)
&gt; 1-b_{\epsilon}\]</span> where
<ul>
<li>
<span class="math inline">\(\delta_{\epsilon} = 0\)</span> denotes
the (efficacy-related) clinically meaningful treatment effect
value,</li>
<li>
<span class="math inline">\(b_{\epsilon}=0.045\)</span> is a tuning
parameter.</li>
</ul>
</li>
<li>
<strong>futility stopping rule</strong>: Early stopping of
intervention arms for futility may occur if there is a low posterior
probability of observing at least a 10% absolute increase (improvement)
in the proportion of responders, i.e., when <span class="math display">\[ \text{Prob}(\beta_k &gt; \delta_{f}|y, X) &lt;
b_f\]</span> where
<ul>
<li>
<span class="math inline">\(\delta_{f} = log(1.5)\)</span> denotes
the (futility-related) clinically meaningful treatment effect values
assuming a control ORR of 40%,</li>
<li>
<span class="math inline">\(b_{f} = 0.1\)</span> is the cut-off
value used to declare futility.</li>
</ul>
</li>
<li>
<strong>trial stopping rule:</strong> The trial will run until a
futility decision has been reached for each intervention arm or once the
maximum sample size has been reached.</li>
</ul>
<p>Note that, in the above, the tuning parameter values have been
optimised to lead to suitable operating characteristics.</p>
<p>In the following, we define the group allocation, RAR, futility and
efficacy functions corresponding to the design described above</p>
<div class="section level4">
<h4 id="rar">RAR<a class="anchor" aria-label="anchor" href="#rar"></a>
</h4>
<p>We need to generate a function that defines the allocation
probabilities of patients to the different active arms as a function
of</p>
<ul>
<li>relevant <em>ingredients</em>, i.e.,
<ul>
<li>
<code>posterior</code>, for the posterior probabilities of the
target parameter being greater than <code>delta.RAR = 0</code>,</li>
<li>
<code>n</code> and <code>N</code>, respectively the sample size per
arm at the look of interest and the max sample size to define the
information fraction,</li>
<li>
<code>ref</code>, for a vector of logicals indicating which group is
the reference one,</li>
<li>
<code>active</code>, for a vector of logicals indicating which
groups are active at the look of interest,</li>
</ul>
</li>
<li>relevant tuning parameters (to be added to <code>RAR.control</code>
in <code>batss.glm</code>), namely <span class="math inline">\(\gamma\)</span>, <span class="math inline">\(\eta\)</span>, and <span class="math inline">\(\nu\)</span>, that we will respectively call
<code>gamma</code>, <code>eta</code> and <code>nu</code>
</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function</span></span>
<span><span class="va">prob.trippa</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">posterior</span>,<span class="va">n</span>,<span class="va">N</span>,<span class="va">ref</span>,<span class="va">active</span>,<span class="va">gamma</span>,<span class="va">eta</span>,<span class="va">nu</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">g</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">active</span><span class="op">)</span></span>
<span>  <span class="va">h</span> <span class="op">=</span> <span class="va">gamma</span><span class="op">*</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">/</span><span class="va">N</span><span class="op">)</span><span class="op">^</span><span class="va">eta</span></span>
<span>  <span class="va">prob</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="va">g</span><span class="op">)</span></span>
<span>  <span class="co"># reference/control arm allocation</span></span>
<span>  <span class="va">prob</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">n</span><span class="op">[</span><span class="op">!</span><span class="va">ref</span><span class="op">]</span><span class="op">)</span><span class="op">-</span><span class="va">n</span><span class="op">[</span><span class="va">ref</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="va">nu</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">g</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="co"># targets/interventions (that haven't been dropped)</span></span>
<span>  <span class="va">prob</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="va">g</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span><span class="va">posterior</span><span class="op">^</span><span class="va">h</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">posterior</span><span class="op">^</span><span class="va">h</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">prob</span><span class="op">)</span>   </span>
<span><span class="op">}</span></span>
<span><span class="co"># test after at the first look with two set of posterior probabilities</span></span>
<span><span class="co"># 1/ c(.5,.5,.5,.5,.5)</span></span>
<span><span class="co"># 2/ c(.5,.5,.5,.5,.6)</span></span>
<span><span class="fu">prob.trippa</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.5</span>,<span class="fl">.5</span>,<span class="fl">.5</span>,<span class="fl">.5</span>,<span class="fl">.5</span><span class="op">)</span>,n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">10</span>,B<span class="op">=</span><span class="fl">10</span>,C<span class="op">=</span><span class="fl">10</span>,D<span class="op">=</span><span class="fl">10</span>,E<span class="op">=</span><span class="fl">10</span>,F<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,N<span class="op">=</span><span class="fl">16</span>,</span>
<span>            ref <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span>, active <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>            gamma<span class="op">=</span><span class="fl">3</span>, eta<span class="op">=</span><span class="fl">1.4</span>, nu<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu">prob.trippa</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.5</span>,<span class="fl">.5</span>,<span class="fl">.5</span>,<span class="fl">.5</span>,<span class="fl">.6</span><span class="op">)</span>,n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">10</span>,B<span class="op">=</span><span class="fl">10</span>,C<span class="op">=</span><span class="fl">10</span>,D<span class="op">=</span><span class="fl">10</span>,E<span class="op">=</span><span class="fl">10</span>,F<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,N<span class="op">=</span><span class="fl">16</span>,</span>
<span>            ref <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span>, active <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>            gamma<span class="op">=</span><span class="fl">3</span>, eta<span class="op">=</span><span class="fl">1.4</span>, nu<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p>Note that this corresponds to the function <code>RAR.trippa</code>
available in the <strong>BATSS</strong> package.</p>
</div>
<div class="section level4">
<h4 id="group-allocation">Group allocation<a class="anchor" aria-label="anchor" href="#group-allocation"></a>
</h4>
<p>We need to generate a function that randomises the <code>m</code>
participants of the next look according to the allocation ratios
<code>prob</code>, where <code>m</code> and <code>prob</code> are
ingredients described in the <a href="Ingredients.html">Ingredients
section</a> and where <code>prob</code> is the output of the
user-defined RAR function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function</span></span>
<span><span class="va">treatalloc.fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">m</span>,<span class="va">prob</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">prob</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">prob</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">prob</span><span class="op">)</span><span class="op">)</span> </span>
<span>  <span class="va">m0.g</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">prob</span><span class="op">*</span><span class="va">m</span><span class="op">)</span></span>
<span>  <span class="va">m0</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">m0.g</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">prob</span><span class="op">)</span>,<span class="va">m0.g</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Multinom.html" class="external-link">rmultinom</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">m</span><span class="op">-</span><span class="va">m0</span>,<span class="va">prob</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">prob</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># test on m = 60 patients and equal allocation per group</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu">treatalloc.fun</span><span class="op">(</span>m<span class="op">=</span><span class="fl">60</span>,prob<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">1</span>,B<span class="op">=</span><span class="fl">1</span>,C<span class="op">=</span><span class="fl">1</span>,D<span class="op">=</span><span class="fl">1</span>,E<span class="op">=</span><span class="fl">1</span>,F<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><code>treatalloc.fun</code> first allocates the largest possible
number of units to the different groups given their exact target
probabilities and then assigns randomly the remaining units to the
different groups according to multinomial draws.</p>
<p>Note that this corresponds to the function
<code>alloc.balanced</code> available in the <strong>BATSS</strong>
package.</p>
</div>
<div class="section level4">
<h4 id="efficacy-rule">Efficacy rule<a class="anchor" aria-label="anchor" href="#efficacy-rule"></a>
</h4>
<p>We need to generate a function that leads to a logical output when
used at the last look of the trial and takes as input</p>
<ul>
<li>the ingredient <code>posterior</code> for the posterior probability
of the target parameter being greater than
<code>delta.eff = 0</code>,</li>
<li>the additional parameter <span class="math inline">\(b_{\epsilon}\)</span> that we will name
<code>b.eff</code> (and that needs to be added to
<code>eff.arm.control</code> in <code>batss.glm</code>).</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function</span></span>
<span><span class="va">efficacy.arm.fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">posterior</span>,<span class="va">b.eff</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">posterior</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">-</span><span class="va">b.eff</span> </span>
<span><span class="op">}</span></span>
<span><span class="co"># test for a parameter with a posterior = 0.999</span></span>
<span><span class="fu">efficacy.arm.fun</span><span class="op">(</span><span class="fl">0.999</span>, b.eff <span class="op">=</span> <span class="fl">0.045</span><span class="op">)</span></span>
<span><span class="co"># test for a parameter with a posterior = 0.95</span></span>
<span><span class="fu">efficacy.arm.fun</span><span class="op">(</span><span class="fl">0.95</span>, b.eff <span class="op">=</span> <span class="fl">0.045</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="arm-futility-stopping-rule">Arm futility stopping rule<a class="anchor" aria-label="anchor" href="#arm-futility-stopping-rule"></a>
</h4>
<p>We need to generate a function that leads to a logical output and
takes as input</p>
<ul>
<li>the ingredient <code>posterior</code> for the posterior probability
of the target parameter being greater than
<code>delta.fut = log(1.5)</code>,</li>
<li>the additional parameter <span class="math inline">\(b_{f}\)</span>
that we will name <code>b.fut</code> (and that needs to be added to
<code>fut.arm.control</code> in <code>batss.glm</code>)</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function</span></span>
<span><span class="va">futility.arm.fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">posterior</span>,<span class="va">b.fut</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">posterior</span> <span class="op">&lt;</span> <span class="va">b.fut</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># test </span></span>
<span><span class="fu">futility.arm.fun</span><span class="op">(</span><span class="fl">0.9</span>, b.fut<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu">futility.arm.fun</span><span class="op">(</span><span class="fl">0.075</span>, b.fut<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p>Note that this corresponds to the function
<code>fut.arm.simple</code> available in the <strong>BATSS</strong>
package.</p>
</div>
<div class="section level4">
<h4 id="trial-futility-stopping-rule">Trial futility stopping rule<a class="anchor" aria-label="anchor" href="#trial-futility-stopping-rule"></a>
</h4>
<p>We need to generate a function that, based on the ingredient
<code>fut.target</code> (indicating if futility was declared for each
target parameter at the stage of interest or before) leads to a logical
output equal to <code>TRUE</code> if all target parameters were declared
futile and <code>FALSE</code> otherwise.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function</span></span>
<span><span class="va">futility.trial.fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">fut.target</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">fut.target</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># test </span></span>
<span><span class="fu">futility.trial.fun</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>B<span class="op">=</span><span class="cn">TRUE</span>,C<span class="op">=</span><span class="cn">TRUE</span>,D<span class="op">=</span><span class="cn">TRUE</span>,E<span class="op">=</span><span class="cn">TRUE</span>,F<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">futility.trial.fun</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>B<span class="op">=</span><span class="cn">TRUE</span>,C<span class="op">=</span><span class="cn">TRUE</span>,D<span class="op">=</span><span class="cn">TRUE</span>,E<span class="op">=</span><span class="cn">TRUE</span>,F<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Note that this corresponds to the function <code>fut.trial.all</code>
available in the <strong>BATSS</strong> package and that this behaviour
is the default one of the function <code>batss.glm</code> when
<code>fut.trial = NULL</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="monte-carlo-simulations">Monte Carlo Simulations<a class="anchor" aria-label="anchor" href="#monte-carlo-simulations"></a>
</h2>
<p>We consider two scenarios:</p>
<ul>
<li>
<strong>Scenario 1</strong>: each arm has an ORR of 0.4 (global
null),</li>
<li>
<strong>Scenario 2</strong>:
<ul>
<li>arms “A”, “B” and “C” have an ORR of 0.4,</li>
<li>arms “D” has an ORR of 0.5,</li>
<li>arms “E” and “F” have an ORR of 0.7.</li>
</ul>
</li>
</ul>
<div class="section level4">
<h4 id="scenario-1">Scenario 1<a class="anchor" aria-label="anchor" href="#scenario-1"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># number of trials</span></span>
<span><span class="va">R</span> <span class="op">=</span> <span class="fl">25</span></span>
<span></span>
<span><span class="co"># logit function</span></span>
<span><span class="va">logit</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">p</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p</span><span class="op">)</span><span class="op">)</span><span class="op">}</span></span>
<span></span>
<span><span class="co"># simulation</span></span>
<span><span class="va">scenario1</span> <span class="op">=</span> <span class="fu"><a href="../../reference/batss.glm.html">batss.glm</a></span><span class="op">(</span>   </span>
<span>  model           <span class="op">=</span> <span class="va">y</span><span class="op">~</span><span class="va">group</span>,</span>
<span>  var             <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">rbinom</span>,</span>
<span>                         group <span class="op">=</span> <span class="va">treatalloc.fun</span><span class="op">)</span>,</span>
<span>  var.control     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  family          <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>  link            <span class="op">=</span> <span class="st">"logit"</span>,</span>
<span>  beta            <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">logit</span><span class="op">(</span><span class="fl">0.4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  which           <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>  R               <span class="op">=</span> <span class="va">R</span>,</span>
<span>  alternative     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"greater"</span><span class="op">)</span>,</span>
<span>  RAR             <span class="op">=</span> <span class="va">prob.trippa</span>,</span>
<span>  RAR.control     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"gamma"</span><span class="op">=</span><span class="fl">3</span>, <span class="st">"eta"</span><span class="op">=</span><span class="fl">1.4</span>,<span class="st">"nu"</span><span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  delta.RAR       <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  prob0           <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">1</span>,B<span class="op">=</span><span class="fl">1</span>,C<span class="op">=</span><span class="fl">1</span>,D<span class="op">=</span><span class="fl">1</span>,E<span class="op">=</span><span class="fl">1</span>,F<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  N               <span class="op">=</span> <span class="fl">216</span>, </span>
<span>  interim         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>recruited<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>m0<span class="op">=</span><span class="fl">60</span>, m<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  eff.arm         <span class="op">=</span> <span class="va">efficacy.arm.fun</span>,</span>
<span>  delta.eff       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">13</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>, </span>
<span>  eff.arm.control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b.eff <span class="op">=</span> <span class="fl">0.045</span><span class="op">)</span>,</span>
<span>  delta.fut       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>, </span>
<span>  fut.arm         <span class="op">=</span> <span class="va">futility.arm.fun</span>,</span>
<span>  fut.arm.control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b.fut <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  computation     <span class="op">=</span> <span class="st">"parallel"</span>,</span>
<span>  mc.cores        <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  H0              <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extended        <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>   </span></code></pre></div>
<p>You can note that</p>
<ul>
<li>
<code>y</code> is generated via the function <code>rbinom</code> and
has an ORR of respectively
<ul>
<li>
<code>expit(logit(0.4)) = 0.4</code> for the reference group, where
<code>logit(0.4) = -0.405</code> corresponds to the log odds of
‘success’ for the control group,</li>
<li>
<code>expit(logit(0.4+0)) = 0.4</code> for all other groups (as
contrasts of type treatment are used for the factor
<code>treatment</code> in the self-defined function
<code>treatalloc.fun</code>), where <code>0</code> corresponds to the
log odds ratio value related to groups “B” to “F” (i.e., no
effect),</li>
</ul>
</li>
<li>the target parameters (corresponding to the shift in ORR of
treatment arms “B” to “F” compared to the “control” on the logit scale)
are in position 2 to 6 of the fitted coefficients obtained when using
the formula <code>y~group</code>,</li>
<li>
<code>prob0</code> provides
<ul>
<li>the (equal) allocation probabilities at the start of the trial,</li>
<li>the names of the groups,</li>
</ul>
</li>
<li>
<code>eff.arm</code> and <code>fut.arm</code> are set to the
functions defined above (i.e., <code>efficacy.arm.fun</code> and
<code>futility.arm.fun</code>),</li>
<li>
<code>delta.eff</code> is set to <code>NA</code> for all 13 interim
analyses and to <code>0</code> for the last look. This ensures that the
trial can’t stop early for efficacy. This aim could be achieved using
other strategies, like setting the output of the function indicated
under <code>eff.trial</code> to <code>FALSE</code>,</li>
<li>
<code>fut.trial</code> is not specified and therefore equal to
<code>NULL</code> (default) which leads to the behaviour wished in this
case,</li>
<li>the values of the additional parameters of
<code>efficacy.arm.fun</code> and <code>futility.arm.fun</code> (i.e.,
<code>b.eff</code> and <code>b.fut</code>) are specified under
<code>eff.arm.control</code> and <code>fut.arm.control</code>,</li>
<li>
<code>delta.eff</code> and <code>delta.fut</code> are respectively
set to <code>0</code> and <code>log(1.5)</code>.</li>
</ul>
<p>We chose here a low number of seeds/trials (<code>R=25</code>) to
save time.</p>
</div>
<div class="section level4">
<h4 id="scenario-2">Scenario 2<a class="anchor" aria-label="anchor" href="#scenario-2"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># number of trials</span></span>
<span><span class="va">R</span> <span class="op">=</span> <span class="fl">25</span></span>
<span></span>
<span><span class="co"># logit function</span></span>
<span><span class="va">logit</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">p</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p</span><span class="op">)</span><span class="op">)</span><span class="op">}</span></span>
<span></span>
<span><span class="co"># simulation</span></span>
<span><span class="va">scenario1</span> <span class="op">=</span> <span class="fu"><a href="../../reference/batss.glm.html">batss.glm</a></span><span class="op">(</span>   </span>
<span>  model           <span class="op">=</span> <span class="va">y</span><span class="op">~</span><span class="va">group</span>,</span>
<span>  var             <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">rbinom</span>,</span>
<span>                         group <span class="op">=</span> <span class="va">treatalloc.fun</span><span class="op">)</span>,</span>
<span>  var.control     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  family          <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>  link            <span class="op">=</span> <span class="st">"logit"</span>,</span>
<span>  beta            <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">logit</span><span class="op">(</span><span class="fl">0.4</span><span class="op">)</span>,                    <span class="co"># log odd of reference group</span></span>
<span>                      <span class="fl">0</span>,<span class="fl">0</span>,                           <span class="co"># log odds ratio of groups B and C       </span></span>
<span>                      <span class="fu">logit</span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span><span class="op">-</span><span class="fu">logit</span><span class="op">(</span><span class="fl">0.4</span><span class="op">)</span>,         <span class="co"># log odds ratio of group D</span></span>
<span>                      <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu">logit</span><span class="op">(</span><span class="fl">0.7</span><span class="op">)</span><span class="op">-</span><span class="fu">logit</span><span class="op">(</span><span class="fl">0.4</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="co"># log odds ratio of groups E and F       </span></span>
<span>  which           <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>  R               <span class="op">=</span> <span class="va">R</span>,</span>
<span>  alternative     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"greater"</span><span class="op">)</span>,</span>
<span>  RAR             <span class="op">=</span> <span class="va">prob.trippa</span>,</span>
<span>  RAR.control     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"gamma"</span><span class="op">=</span><span class="fl">3</span>, <span class="st">"eta"</span><span class="op">=</span><span class="fl">1.4</span>,<span class="st">"nu"</span><span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  delta.RAR       <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  prob0           <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">1</span>,B<span class="op">=</span><span class="fl">1</span>,C<span class="op">=</span><span class="fl">1</span>,D<span class="op">=</span><span class="fl">1</span>,E<span class="op">=</span><span class="fl">1</span>,F<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  N               <span class="op">=</span> <span class="fl">216</span>, </span>
<span>  interim         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>recruited<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>m0<span class="op">=</span><span class="fl">60</span>, m<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  eff.arm         <span class="op">=</span> <span class="va">efficacy.arm.fun</span>,</span>
<span>  delta.eff       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">13</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>, </span>
<span>  eff.arm.control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b.eff <span class="op">=</span> <span class="fl">0.045</span><span class="op">)</span>,</span>
<span>  delta.fut       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>, </span>
<span>  fut.arm         <span class="op">=</span> <span class="va">futility.arm.fun</span>,</span>
<span>  fut.arm.control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b.fut <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  computation     <span class="op">=</span> <span class="st">"parallel"</span>,</span>
<span>  mc.cores        <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  H0              <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extended        <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>  </span></code></pre></div>
<p>Same as above except for <code>beta</code>.</p>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Cellamare2017" class="csl-entry">
Cellamare, Matteo, Steffen Ventz, Elisabeth Baudin, Carole D. Mitnick,
and Lorenzo Trippa. 2017. <span>“A Bayesian Response-Adaptive Trial in
Tuberculosis: The endTB Trial.”</span> <em>Clinical Trials</em> 14 (1):
17–28. <a href="https://doi.org/10.1177/1740774516665090" class="external-link">https://doi.org/10.1177/1740774516665090</a>.
</div>
<div id="ref-Gotmaker" class="csl-entry">
Gotmaker, Robert, Michael J Barrington, John Reynolds, Lorenzo Trippa,
and Stephane Heritier. 2019. <span>“Bayesian Adaptive Design: The Future
for Regional Anesthesia Trials?”</span> <em>Regional Anesthesia &amp;
Pain Medicine</em> 44 (6): 617–22. <a href="https://doi.org/10.1136/rapm-2018-100248" class="external-link">https://doi.org/10.1136/rapm-2018-100248</a>.
</div>
<div id="ref-PIP" class="csl-entry">
Lo, Serigne N., Tuba Nur Gide, Maria Gonzalez, Ines Silva, Alexander M.
Menzies, Matteo S. Carlino, Richard A. Scolyer, Stephane Heritier, James
S. Wilmott, and Georgina V. Long. 2022. <span>“A Biomarker-Guided
Bayesian Response-Adaptive Phase II Trial for Metastatic Melanoma: The
Personalized Immunotherapy Platform (PIP) Trial Design.”</span>
<em>Journal of Clinical Oncology</em> 40 (16): TPS9599–99.
</div>
<div id="ref-trippa2012" class="csl-entry">
Trippa, Lorenzo, Eudocia Q. Lee, Patrick Y. Wen, Tracy T. Batchelor,
Timothy Cloughesy, Giovanni Parmigiani, and Brian M. Alexander. 2012.
<span>“Bayesian Adaptive Randomized Trial Design for Patients with
Recurrent Glioblastoma.”</span> <em>Journal of Clinical Oncology</em> 30
(26): 3258–63. <a href="https://doi.org/10.1200/JCO.2011.39.8420" class="external-link">https://doi.org/10.1200/JCO.2011.39.8420</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dominique-Laurent Couturier, Liz Ryan, Rainer Puhr, Thomas Jaki, Stephane Heritier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
